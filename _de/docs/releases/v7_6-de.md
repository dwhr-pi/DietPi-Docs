# Versionshinweise

## September 2021 (Version 7.6)

### Neue Software {: #new-software-76 }

- [Box64](../../software/gaming/#box64) :octicons-arrow-right-16: Mit diesem x86_64-Userspace-Emulator können Sie x86_64-Binärdateien auf einem ARMv8/arm64-System ausführen. Es funktioniert sehr ähnlich wie Box86, ist also in der Lage, gemeinsam genutzte arm64-Bibliotheken mit den x86_64-Binärdateien zu verwenden, sodass häufig keine zusätzlichen Bibliotheken installiert werden müssen. Dank binfmt wird es automatisch aufgerufen, wenn versucht wird, eine x86_64-Binärdatei auszuführen. Vielen Dank an @ravenclaw900 für die Implementierung dieses Softwaretitels: <https://github.com/MichaIng/DietPi/pull/4625>
- [Dateibrowser](../../software/cloud/#file-browser) :octicons-arrow-right-16: Greifen Sie mit diesem leichten Remote-Dateimanager von überall über den Browser auf Ihre Daten zu und verwalten Sie sie. Anders als ownCloud und Nextcloud greift es auf die Rohdaten in Ihrem Dateisystem zu, basierend auf einem ausgewählten Stammverzeichnis, was es ähnlich wie Syncthing macht. Sie können mehrere Benutzer mit ihrem eigenen Stammverzeichnis einrichten und auch das Teilen von Dateien und Verzeichnissen über einen passwortgeschützten Link ist möglich.
- [Spotifyd](../../software/media/#spotifyd) :octicons-arrow-right-16: Spotifyd streamt Musik genau wie der offizielle Client, ist aber leichter. Es unterstützt auch das Spotify Connect-Protokoll, wodurch es als Gerät angezeigt wird, das von den offiziellen Clients gesteuert werden kann. Vielen Dank an @ressu für die Implementierung dieses Softwaretitels: <https://github.com/MichaIng/DietPi/pull/4713>

### Verbesserungen {: #verbesserungen-76 }

- **Allgemein** :octicons-arrow-right-16: Erste Erkennung und Unterstützung für Debian 12 Bookworm (die neue "Test"-Version) wurde zu DietPi hinzugefügt. Jeder ist eingeladen, ein Upgrade auf Bookworm durchzuführen, um auf dem neuesten Stand zu bleiben. Beachten Sie nur, dass aufgrund von anhaltenden Breaking Changes, die mit Paket-Upgrades einhergehen, einige Funktionen und Softwareinstallationen defekt sind oder werden. Wir freuen uns dann über Ihren Fehlerbericht, um notwendige Änderungen in DietPi so schnell wie bahnbrechende Änderungen in Bookworm zu implementieren, bis es die neue stabile Debian-Veröffentlichung wird, die im Sommer 2023 erwartet wird.
- **DietPi-FS_partition_resize** :octicons-arrow-right-16: Beim ersten Start erweitert DietPi automatisch die Root-Partition und das Dateisystem, um die volle Festplattengröße abzudecken. Unter Umständen, zB bei älteren Kernel-Versionen, kann es vorkommen, dass die beiden verwendeten Befehle `partprobe` und `partx -u` den Kernel nicht über die geänderte Partitionstabelle informieren und somit das Dateisystem nicht erweitert wird. In diesem Fall wird das System nun automatisch einmal neu gestartet, um sicherzustellen, dass die neue Partitionstabelle geladen und das Dateisystem anschließend erweitert wird. Diese Änderung betrifft nur neue Bilder, die DietPi v7.6 bereits enthalten, da diese Erweiterung durchgeführt wird, bevor DietPi sich selbst aktualisiert. Vielen Dank an @Dtrieb für die Meldung eines Falls, bei dem die Dateisystemerweiterung fehlgeschlagen ist: <https://github.com/MichaIng/DietPi/issues/4582>
- [DietPi-Drive_Manager](../../dietpi_tools/#dietpi-drive-manager) :octicons-arrow-right-16: Die native exFAT-Unterstützung von Linux wird jetzt erkannt und berücksichtigt, indem die Installation des veralteten FUSE-Treibers für den Fall übersprungen wird. Zusätzlich werden die neuen `exfatprogs` auf Bullseye installiert, geschrieben und implementiert mit Debian Bullseye zusammen mit der nativen Linux-exFAT-Implementierung.
- [DietPi-Drive_Manager](../../dietpi_tools/#dietpi-drive-manager) :octicons-arrow-right-16: exFAT-Mounts haben jetzt den 775-Modus und gehören der "dietpi"-Gruppe, falls dies der Fall war nicht manuell entfernt. Wenn der FUSE-Treiber verwendet wird, haben Mounts standardmäßig den 777-Modus, sodass alle Benutzer vollen Zugriff haben, was aus Sicherheitsgründen nicht optimal ist. Bei nativer Linux exFAT-Unterstützung haben Mounts standardmäßig den 755-Modus, sodass die Download- und Media-Software-Implementierungen von DietPi-Software keinen Schreibzugriff haben. "775 root:dietpi" ist ein guter Kompromiss, wenn die Gruppe "dietpi" existiert und die Berechtigungen für Inhaltsverzeichnisse in `/mnt/dietpi_userdata` entsprechen. Vielen Dank an @K92Pi für die Meldung eines ähnlichen Problems: <https://github.com/MichaIng/DietPi/issues/4680>
- [DietPi-Drive_Manager](../../dietpi_tools/#dietpi-drive-manager) :octicons-arrow-right-16: Unterstützung für das Verschieben des Root-Dateisystems auf ein anderes Laufwerk auf Odroid N2 hinzugefügt.
- [DietPi-AutoStart](../../dietpi_tools/#dietpi-autostart) :octicons-arrow-right-16: Eine neue Autostart-Option "Benutzerdefiniertes Skript (Vordergrund, mit automatischer Anmeldung)" wurde hinzugefügt, die ausgeführt wird das benutzerdefinierte Skript `/var/lib/dietpi/dietpi-autostart/custom.sh` nach dem Einloggen mit dem gewählten Benutzer automatisch im Vordergrund auf dem Hauptbildschirm. Um es vernünftiger zu trennen, wurde die vorherige Option für benutzerdefinierte Skripte in "Benutzerdefiniertes Skript (Hintergrund, keine automatische Anmeldung)" geändert, das über den systemd-Dienst ausgeführt wird, unabhängig von jedem Anmeldestatus wie zuvor, aber nicht auf der Vordergrundkonsole gedruckt wird mehr. Stattdessen geht die Ausgabe an das Journal (journalctl -u dietpi-autostart_custom), wie es die meisten anderen systemd-Dienste tun. Der Vordergrundmodus verhält sich jetzt wie die meisten anderen Vordergrund-/GUI-Autostart-Optionen, startet nach der automatischen Anmeldung am Hauptbildschirm (`TTY1`) und kann, wenn es sich um einen lang andauernden Prozess handelt, mit `CTRL+C` abgebrochen werden, genau wie CAVA oder `DietPi-CloudShell`. Wenn man ein benutzerdefiniertes Skript im Vordergrund auf dem Hauptbildschirm vor/unabhängig von einer Anmeldung ausführen möchte, ist es eine weitere Option, es in `/var/lib/dietpi/postboot.d/` zu platzieren. Alle enthaltenen Skripte werden am Ende des Bootvorgangs als Root-Benutzer auf dem Hauptbildschirm ausgeführt, ohne dass eine manuelle Anmeldung erforderlich ist. Vielen Dank an @scorgna für die Implementierung dieser Funktion: <https://github.com/MichaIng/DietPi/pull/4634>
- [DietPi-Software | **TigerVNC**](../../software/remote_desktop/#tigervnc-server) :octicons-arrow-right-16: Anstelle von `x11vnc` wird jetzt der TigerVNC-eigene Scraping-Server für den Shared-Desktop-Modus verwendet, der ist etwas leichter und teilt viele Bibliotheken mit dem eigenständigen TigerVNC-Serverpaket.
- [DietPi-Software | **RealVNC**](../../software/remote_desktop/#realvnc-server) :octicons-arrow-right-16: Wenn die automatische Desktop-Anmeldung aktiviert ist, wird der Shared-Desktop-VNC-Modus nicht mehr erzwungen. Außerdem ruft unser `vncserver.service` nicht RealVNC `vncserver-x11-serviced.service` für den Shared-Desktop-Modus auf, sondern stattdessen wird direkt die eigentliche ausführbare `vncserver-x11`-Datei aufgerufen. Dies hat einige Vorteile, z. B. ermöglicht es, unseren Dienst für einen virtuellen Desktop zu verwenden, während der RealVNC-Dienst verwendet wird, um Verbindungen zum freigegebenen lokalen Desktop unabhängig zu ermöglichen. Vielen Dank an @K92Pi für diese Idee: <https://github.com/MichaIng/DietPi/issues/4672>
- [DietPi-Software | **RealVNC**](../../software/remote_desktop/#realvnc-server) :octicons-arrow-right-16: Der VNC-Server wird jetzt standardmäßig mit `VncAuth`-Authentifizierung gestartet, was jeden VNC-Viewer zulässt zu verbinden, nicht nur RealVNC. Verwenden Sie `vncpasswd`, um das Passwort zu ändern, das jetzt unabhängig von den UNIX-Benutzerpasswörtern ist. Bei einer Neuinstallation wird standardmäßig das globale Softwarekennwort verwendet.
- [DietPi-Software | **Amiberry**](../../software/gaming/#amiberry) :octicons-arrow-right-16: Aufgrund von Änderungen in DietPi v7.5 ändert das Aktivieren des Amiberry-Schnellstarts nicht die TTY für den Start /kernel auf Raspberry Pi nicht mehr, da sie die Amiberry-Bildschirmausgabe nicht mehr direkt stören. Aber aufgrund dieser Änderung ist bei Änderungen des Bildschirmmodus für kurze Zeit die rohe Konsolenausgabe sichtbar, was das Amiga-Feeling bricht. Um das Problem zu beheben, wechselt Amiberry jetzt, anstatt die Kernel-Befehlszeile (`cmdline`) zu ändern, beim Start zu einem anderen leeren TTY und beim Stoppen zurück zum Haupt-TTY, einschließlich des Fehlerfalls. Da dies mit dem Amiberry-Dienst selbst erreicht wird, profitiert auch die standardmäßige Boot-Option von Amiberry davon, ebenso wie manuelle „systemctl start amiberry“-Aufrufe, und es ist nicht wie zuvor auf den Raspberry Pi beschränkt TTY-Änderung war. Vielen Dank an @zompiexx für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/4692>
- **DietPi-Software | MPD** :octicons-arrow-right-16: Die Dienstdatei und die Standarddatei `mpd.conf` werden nicht mehr überschrieben (ab Buster), sondern die erforderlichen Änderungen werden der Standarddatei hinzugefügt, die mit dem Debian-Paket geliefert wird. Dies behebt einige Fehlermeldungen beim MPD-Start auf Bullseye und lässt die meisten benutzerdefinierten Änderungen bei einer Neuinstallation unberührt. Darüber hinaus protokolliert MPD jetzt standardmäßig im Journal, auf das über `journalctl -u mpd` zugegriffen werden kann. Vielen Dank an @maartenlangeveld für das Melden der MPD-Startfehler: <https://github.com/MichaIng/DietPi/issues/4690>
- [DietPi-Software | **Kodi**](../../software/media/#kodi) :octicons-arrow-right-16: Unser Raspberry Pi-beschleunigtes Kodi-Paket wird jetzt auch auf ARMv7-RPi-Systemen installiert.

### Fehlerbehebungen {: #bug-fixes-76 }

- **Allgemein** :octicons-arrow-right-16: Es wurde ein Problem auf ARMv7-Buster- und Bullseye-Systemen behoben, bei dem der „haveged“-Entropie-Daemon aufgrund eingeschränkter Syscall-Berechtigungen abstürzt. Dies kann zu mehreren Problemen führen, z. B. hängendem Start, hängenden Installationen oder Dienststarts. Vielen Dank an @jg777 für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/4710>
- [DietPi-Drive_Manager](../../dietpi_tools/#dietpi-drive-manager) :octicons-arrow-right-16: Korrigierte falsche Informationen bei der Durchführung einer exFAT-Dateisystemprüfung und -reparatur: Bis Stretch nur Prüfung auf exFAT Fehler werden unterstützt, aber nicht repariert. Ab Buster wird beides voll unterstützt.
- [DietPi-Drive_Manager](../../dietpi_tools/#dietpi-drive-manager) :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem auf Odroid C2 das Verschieben des Root-Dateisystems auf ein anderes Laufwerk fehlschlug. Vielen Dank an @yandritos für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/4733>
- [DietPi-LetsEncrypt](../../dietpi_tools/#dietpi-letsencrypt) :octicons-arrow-right-16: Beim Aktivieren von HTTPS-Redirect oder HSTS und installierter ownCloud oder Nextcloud wird die `overwrite.cli.url` Die Einstellung in der `config.php` wird entsprechend aktualisiert, um die primäre HTTPS-Domain zu enthalten. Dies ist für Cron-Jobs und die `occ/ncc`-Befehle erforderlich, um über den Webserver auf ownCloud/Nextcloud zuzugreifen, da das `Let's Encrypt`-Zertifikat nur für den externen Domainnamen und nicht für `localhost` gültig ist. Vielen Dank an @droogi für die Meldung eines möglicherweise verwandten Problems: <https://github.com/MichaIng/DietPi/issues/4353>
- [DietPi-Software | **TigerVNC**](../../software/remote_desktop/#tigervnc-server) :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem Remote-Verbindungen standardmäßig auf Bullseye-Systemen nicht funktionierten Konfigurationsdatei verwendet wird.
- [DietPi-Software | **LXDE**](../../software/desktop/#lxde) :octicons-arrow-right-16: Es wurde ein Problem auf Raspberry Pi behoben, bei dem der Aufruf von „lxappearance“ (Look and Feel anpassen) aufgrund von Inkompatibilität fehlschlug RPi-Desktop-Pakete. Vielen Dank an @pinipon für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/4687>
- [DietPi-Software | **LXDE**](../../software/desktop/#lxde) :octicons-arrow-right-16: Es wurde ein Problem mit Bullseye behoben, bei dem einige Symboldesigns aufgrund einer fehlenden SVG-Bibliothek nicht angewendet werden konnten. Vielen Dank an @pinipon für das Melden des Problems und der Lösung: <https://github.com/MichaIng/DietPi/issues/4687>
- [DietPi-Software | **LXDE**](../../software/desktop/#lxde) :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem das Hotkey-Setup wegen eines fehlenden `openbox`-Plugins nicht funktionierte. Vielen Dank an @pinipon für das Melden des Problems und der Lösung: <https://github.com/MichaIng/DietPi/issues/4687>
- [DietPi-Software | **Blynk**](../../software/hardware_projects/#blynk-server): Es wurde ein Problem behoben, bei dem das Protokollverzeichnis möglicherweise fehlt, was den Start des Dienstes unterbricht, wenn die Benutzerdaten von einem System zu einem migriert wurden ein neues. Vielen Dank an @Phil1988 für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/4721>
- [DietPi-Software | **qBittorrent**](../../software/bittorrent/#qbittorrent) :octicons-arrow-right-16: Behebung eines Problems auf Bullseye-Systemen, bei dem die Anmeldung an der Weboberfläche mit dem globalen Softwarepasswort seitdem nicht möglich war der erforderliche Hash-Algorithmus hat sich geändert. Vielen Dank an [phpBB:robex](https://dietpi.com/phpbb/memberlist.php?username=aftensleuk){: class="nospellcheck"} für die Meldung dieses Problems: <https://dietpi.com/phpbb /viewtopic.php?p=22564#p22564>
- [DietPi-Software | **ReadyMedia**](../../software/media/#readymedia) :octicons-arrow-right-16: Es wurde ein Problem mit Bullseye behoben, bei dem der Dienst nicht gestartet wird, es sei denn, das Protokollverzeichnis wird manuell erstellt. Aufgrund eines Debian-Paket-Patches werden auf Bullseye Protokolle gezwungen, die Protokollierung erneut zu erstellen, sodass `/var/log/minidlna` erneut vorhanden sein muss. Vielen Dank an @AnzoP für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/4745>

Wie immer wurden viele kleinere Codeleistungs- und Stabilitätsverbesserungen sowie visuelle und Rechtschreibkorrekturen vorgenommen, zu viel, um sie alle hier aufzulisten. Sehen Sie sich alle Codeänderungen dieser Version auf GitHub an: <https://github.com/MichaIng/DietPi/pull/4747>
