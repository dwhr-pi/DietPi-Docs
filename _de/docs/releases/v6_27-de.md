# Versionshinweise

## Januar 2020 (Version 6.27)

### Verbesserungen

- **FriendlyARM ZeroPi** :octicons-arrow-right-16: Anfängliche Hardwarekennung (ID: 59) und Unterstützung für dieses Gerät wurde zu DietPi hinzugefügt. Vielen Dank an @StephanStS für die Erstellung des zugehörigen DietPi-Images: <https://github.com/MichaIng/DietPi/issues/3221>
- **RPi** :octicons-arrow-right-16: Ein aktualisierter USBridgeSig-Ethernet-Treiber, wie von Allo.com bereitgestellt, wird über das Kernel-Skript „postinst“ angewendet, bis er in den offiziellen RPi-Kernel eingebunden wurde: <https ://github.com/allocom/USBridgeSig/tree/master/ethernet>
- **RPi4** :octicons-arrow-right-16: Allgemeine RPi4-Revisionscode-Erkennung hinzugefügt, um potenzielle neue PCB v1.3 bis v1.9 nach der Veröffentlichung einzubeziehen. Vielen Dank an @Joulinar für die Meldung des fehlenden neuen Revisionscodes: <https://github.com/MichaIng/DietPi/issues/3257#issuecomment-565370856>
- **RPi4** :octicons-arrow-right-16: Seit RPi4 werden Bootloader und USB-Firmware auf einem internen EEPROM gespeichert, das nicht aktualisiert/geflasht wird, indem das Firmware-APT-Paket automatisch installiert wird. Das zusätzliche `rpi-eeprom`-Paket enthält ein EEPROM-Update-Skript und einen Boot-Dienst, die jetzt beim DietPi-Update installiert werden und das Setup automatisch ausführen, wenn RPi4 erkannt wird. Diese Firmware-Updates beinhalten Optimierungen des Stromverbrauchs (daher Wärmeabgabe) und ermöglichen zusätzliche Boot-Methoden, derzeit sind auch Netzwerk-Boot und USB-Boot geplant. Grund genug für uns, es automatisch für alle RPi4-Systeme zu implementieren. Zusätzlich können Sie das EEPROM manuell über dietpi-config > Erweiterte Optionen > RPi4 EEPROM-Firmware aktualisieren aktiv installieren/aktualisieren. Weitere Informationen finden Sie in den offiziellen Dokumenten: <https://www.raspberrypi.org/documentation/hardware/raspberrypi/booteeprom.md>. Vielen Dank an @trueaspects für die Information über dieses wichtige Thema: <https://github.com/MichaIng/DietPi/issues/3217>
- **Virtuelle Maschinen** :octicons-arrow-right-16: Intel/AMD-CPU-Mikrocode-Aktualisierungspakete werden nicht von virtuellen Maschinen installiert/gelöscht. Die CPU wird vom Host bereitgestellt, Hypervisoren erlauben es vernünftigerweise nicht, den Mikrocode aus dem Gast heraus zu aktualisieren, und wenn dies der Fall wäre, wäre dies ein ernsthaftes Sicherheits- und Stabilitätsproblem.
- **DietPi-Globals** :octicons-arrow-right-16: Eine neue Funktion G_TERM_CLEAR wurde hinzugefügt, um eine aktuelle Terminalansicht zu löschen, indem Inhalt in den Scrollback-Puffer verschoben wird. Die vorherige Methode löschte den aktuell sichtbaren Inhalt auf einigen Terminaltypen. Vielen Dank an @rdslw für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/1615#issuecomment-562928032>
- **DietPi-PREP** :octicons-arrow-right-16: Neue Images enthalten alle Manpages und Dokumentationsdateien für installierte Pakete. Diese wurden bisher entfernt, hinderten Benutzer jedoch daran, einfach man-db zu installieren, um Manpages auf dem System anzuzeigen, ohne Pakete neu zu installieren, um diese zuerst wiederherzustellen. Vielen Dank an @smudgered für diesen Vorschlag: <https://github.com/MichaIng/DietPi/issues/3259>
- **DietPi-Software** :octicons-arrow-right-16: Der allgemeine Netzwerkcheck gegen den ersten sources.list-Eintrag wurde durch einen reinen Konnektivitätstest und separaten DNS-Resolver-Test per Ping ersetzt. Dies behebt ein Problem, bei dem das Parsen von sources.list fehlschlug, wenn [`arch=...`] angegeben wurde, und ermöglicht ein besseres Debugging. Die Quelllisteneinträge selbst werden bereits von `G_AGUP` geprüft und fehlerbehandelt. Die Ping-Ziel-IP für den Verbindungstest und die Domain für den DNS-Resolver-Test können über „dietpi.txt“ festgelegt werden. Standard ist die Cloudflare-DNS-IP und -Domain, die auf der ganzen Welt sehr zuverlässig und schnell sein sollten. Vielen Dank an @lwqcz für die Meldung des Problems und die Bereitstellung einer Lösung: <https://github.com/MichaIng/DietPi/pull/3243>
- **DietPi-Software** | **TasmoAdmin** :octicons-arrow-right-16: Die administrative Website zur Verwaltung von ESP8266-Geräten, die mit Tasmota für Smart-Home-Systeme geflasht wurden, steht jetzt zur Installation zur Verfügung. Vielen Dank an @svh1985 für die Implementierung dieses Softwaretitels: <https://github.com/MichaIng/DietPi/issues/3103>
- **DietPi-Software** | **ownCloud** :octicons-arrow-right-16: Aktivierte Installation auf Buster-, Bullseye- und ARMv6-RPi-Modellen (RPi1+Zero). ownCloud 10.3 wurde mit PHP7.3-Unterstützung veröffentlicht, daher kann es mit der nativen Distribution PHP7.3 verwendet werden und erfordert kein Ondrej-PHP-Repo, das `armv6hf` nicht unterstützt.
- **DietPi-Software** | **Syncthing** :octicons-arrow-right-16: Verbesserter Service durch Sicherheitshärtung und um interne Updates und automatische Updates zuzulassen, ohne dass ein Neustart fehlschlägt. Die Binärdatei wurde von „/etc/syncthing“ nach „/opt/syncthing“ verschoben, um sie an FHS anzupassen, und die Dateiprotokollierung wurde deaktiviert, was ein unnötiger Overhead ist, da Protokolle einfach über „journalctl -u syncthing“ angezeigt werden können. Änderungen werden auf alle Installationen des v6.27-Updates angewendet, bestehende Konfigurationen werden davon nicht berührt.
- **DietPi-Software** | **NAA-Daemon** :octicons-arrow-right-16: Die neueste Version wird jetzt von der Basis-URL abgekratzt und automatisch installiert. Vielen Dank an @Heroldgray für diesen Vorschlag: <https://github.com/MichaIng/DietPi/issues/3191>
- **DietPi-Software** | **Home Assistant** :octicons-arrow-right-16: Python 3.8 wird von nun an für pyenv installiert, da Python 3.6 veraltet ist. Vielen Dank an @sdomotica für die Bereitstellung dieser Informationen: <https://github.com/MichaIng/DietPi/issues/3219>
- **DietPi-Software** | **Home Assistant** :octicons-arrow-right-16: Bei der Auswahl zum Installieren wird man auf eventuell lange Installations-/Build-Zeiten hingewiesen. Vielen Dank an @Gill-Bates für diesen Vorschlag, um zu vermeiden, dass Benutzer davon ausgehen, dass ihr Installationsprozess hängen bleibt: <https://github.com/MichaIng/DietPi/issues/2897>
- **DietPi-Software** | **Home Assistant** :octicons-arrow-right-16: Erheblich reduzierte Home Assistant-Abhängigkeiten und Installationskomplexität. Es läuft nicht mehr innerhalb eines `virtualenv` von `pyenv`, da es bereits seine einzigartige pyenv-Python-Instanz hat. pyenv ist aufgrund der großen Menge spezifischer Modulversionen, die für HA und seine Integrationen erforderlich sind, weiterhin erforderlich. Die Alternative wäre ein `venv` aus einer global installierten Python-Instanz, aber das erfordert weitere Überlegungen und Diskussionen. Die Anzahl der über APT installierten Entwicklungsbibliotheken und -tools wurde aktualisiert und auf ein Minimum reduziert, um Python und Home Assistant ohne Fehler und Warnungen in pyenv zu erstellen. Es besteht eine leicht erhöhte Wahrscheinlichkeit, dass bestimmte HA-Komponenten zusätzliche Entwicklungspakete benötigen. Um dies abzudecken, wurden zwei neue Einstellungen zu `dietpi.txt` hinzugefügt: `SOFTWARE_HOMEASSISTANT_APT_DEPS` und `SOFTWARE_HOMEASSISTANT_PIP_DEPS`. Fügen Sie eine durch Leerzeichen getrennte Liste von APT-Paketen bzw. Pip-Modulen hinzu, damit diese automatisch mit Home Assistant installiert werden. Außerdem ist die Aktivierung der pyenv-Umgebung von der Konsole jetzt einfacher über die Quelle `/home/homeassistant/pyenv-activate.sh` als Benutzer `homeassistant` möglich. Zusätzlich wurde `/home/homeassistant/homeassistant-update.sh` hinzugefügt, das von jedem `sudo`-fähigen Benutzer aufgerufen werden kann, um Home Assistant einfach zu aktualisieren.
- **DietPi-Software** | **Node-RED** :octicons-arrow-right-16: Zugriffsberechtigungen für I2C sind jetzt standardmäßig auf RPi und anderen SBCs aktiviert, die standardmäßig eine konfigurierte „i2c“-Gruppe liefern. Vielen Dank an [phpBB:NastySpill](https://dietpi.com/phpbb/memberlist.php?username=NastySpill){: class="nospellcheck"} für die Meldung eines zugrunde liegenden Problems: <https://dietpi.com/ phpbb/viewtopic.php?t=6862>
- **DietPi-Software** | **Gitea** :octicons-arrow-right-16: Die neueste Version wird jetzt automatisch von GitHub gezogen.
- **DietPi-Software** | **Amiberry** :octicons-arrow-right-16: Aktualisiert auf v3.0.9, ein großes Update von v2.25 mit vielen Verbesserungen, siehe: <https://github.com/midwan/amiberry/releases>
- **DietPi-Software** | **Amiberry** :octicons-arrow-right-16: Da wir eine angepasste SDL2-Version ausliefern, wurde diese jetzt direkt in das Amiberry-Download-Archiv und -Installationsverzeichnis eingefügt, um andere systemweit installierte SDL2-Instanzen nicht zu beeinträchtigen.
- **DietPi-Software** | **Kodi** :octicons-arrow-right-16: GPU-beschleunigte Unterstützung für Odroid N2 über den `fbdev`-Treiber und einen speziellen Kodi-Build, bereitgestellt von Meveric, hinzugefügt. Vielen Dank an @ernero93 für diese Anfrage: <https://github.com/MichaIng/DietPi/issues/3255>
- **DietPi-Software** | **Koel** :octicons-arrow-right-16: Die neueste Upstream-Version wird jetzt automatisch gezogen, v4.2.2 zum Zeitpunkt des Schreibens. Abhängigkeiten wurden entsprechend aktualisiert, z. B. unterstützt das neueste Koel das neueste Node.js v13.5.0.
- **DietPi-Software** | **NoMachine** :octicons-arrow-right-16: Aktualisiert auf die neueste Version 6.9.2 und auf URL ohne Versionszeichenfolge umgestellt, was es uns ermöglicht, Downloads im laufenden Betrieb ohne Codeänderungen zu aktualisieren. Download-URLs von der offiziellen Website wurden vereinfacht und folgen einer gewissen Logik, aber es sind keine "neuesten" URLs verfügbar und ältere Versionen werden nicht aufbewahrt, daher müssen wir diese Pakete weiterhin auf dietpi.com hosten.
- **DietPi-Software** | **Allo Web UI** :octicons-arrow-right-16: Aktualisiert auf Version 13.1, die hauptsächlich einige Kompatibilitätsprobleme mit DietPi v6.27 und Debian Buster-Systemen behebt. Einzelheiten finden Sie unter: `/var/www/allo/CHANGELOG.txt`.
- **DietPi-Software** | **phpMyAdmin**: Die Installation des APT-Pakets wurde durch einen Upstream-Archiv-Download ersetzt. Dies ermöglicht es uns, die aktuellste Version für alle Distributionsversionen bereitzustellen, und vermeidet Inkompatibilitäten aufgrund von PHP-Metapaketen, die als Abhängigkeiten vom APT-Paket abgerufen werden. Die Installation auf Buster und Bullseye ist jetzt dadurch möglich und die Inkompatibilität mit gleichzeitigem ownCloud und phpBB wurde behoben. Auf Stretch behebt dies ein Problem, das darauf zurückzuführen ist, dass das neue PHP7.4 vom `php`-Metapaket aus dem Ondrej-Repo gezogen wird. Vielen Dank an @symlagom für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3284>

### Fehlerbehebung

- **DietPi-PREP** :octicons-arrow-right-16: Behebung eines Problems, bei dem in seltenen Fällen eine falsche $PATH-Variable Befehlsaufrufe unterbrechen konnte. Vielen Dank an @dtm2001 für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3206>
- **DietPi-Explorer** :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem die Behandlung von Datei-/Verzeichnispfaden mit Leerzeichen fehlschlug. Vielen Dank an [phpBB:gabboman](https://dietpi.com/phpbb/memberlist.php?username=gabboman){: class="nospellcheck"} für die Meldung dieses Problems: <https://dietpi.com/phpbb /viewtopic.php?t=7046>
- **DietPi-Drive_Manager** :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem nach der Übertragung des Root-Dateisystems das Skript selbst den `fstab`-Eintrag zurücksetzen konnte, da ein Neustart seit v6 nicht mehr erzwungen wurde. 22. Diese Änderung wurde rückgängig gemacht, daher kann ein Neustart nicht übersprungen werden, um eine „fstab“-Rücksetzung und Inkonsistenz mit der Befehlszeile zu vermeiden. Vielen Dank an [phpBB:DutchFlash](https://dietpi.com/phpbb/memberlist.php?username=DutchFlash){: class="nospellcheck"} für die Meldung dieses Problems: <https://dietpi.com/phpbb /viewtopic.php?t=6645>
- **DietPi-Drive_Manager** :octicons-arrow-right-16: Behebung eines Problems, bei dem in seltenen Fällen alle Laufwerke beim Booten als R/O gemountet wurden. Vielen Dank an @samolego für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3268>
- **DietPi-Autostart** :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem nicht-interaktive Skriptaufrufe, z. B. durch dietpi-Softwareinstallationen, zuvor getroffene Benutzerauswahlen für die automatische Anmeldung zurücksetzen. Vielen Dank an @zedrdave für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3242>
- **DietPi-Konfig** | **RPi** :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem der Status der PSU-Rauschunterdrückung immer „[Off]“ anzeigt. Die HDMI-Ausgabe wird jetzt sofort umgeschaltet, daher ist kein Neustart erforderlich, damit die Änderungen wirksam werden. Vielen Dank an @maartenlangeveld für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3187>
- **DietPi-Software** | **ownCloud/Nextcloud** :octicons-arrow-right-16: Ein wichtiger Sicherheitsfix wurde auf unsere ownCloud/Nextcloud Nginx-Konfigurationen angewendet. Dies wurde auch in unsere anderen GitHub-Zweige zusammengeführt, daher sind alle Neuinstallationen nicht betroffen. Lesen Sie mehr darüber: <https://nextcloud.com/blog/urgent-security-issue-in-nginx-php-fpm/>
- **DietPi-Software** | **WireGuard** :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem der Server nicht gestartet werden konnte, wenn das Netzwerk noch nicht vollständig initialisiert wurde. Vielen Dank an @Joulinar für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3175>
- **DietPi-Software** | **Syncthing** :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem die Neuinstallation aufgrund fehlender Berechtigungen nicht gestartet werden konnte. Vielen Dank an @ralban, @mowestusa und @g7kse für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3180>
- **DietPi-Software** | **Gitea** :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem neue Gitea-Installationen aufgrund fehlender Berechtigungen nicht gestartet werden konnten. Vielen Dank an [phpBB:NZRob](https://dietpi.com/phpbb/memberlist.php?username=NZRob){: class="nospellcheck"} für die Meldung dieses Problems: <https://dietpi.com/phpbb /viewtopic.php?t=6550>
- **DietPi-Software** | **Home Assistant** :octicons-arrow-right-16: Behebung eines Problems, bei dem die Neuinstallation aufgrund fehlender Berechtigungen nicht gestartet werden konnte. Vielen Dank an [phpBB:slopsjon](https://dietpi.com/phpbb/memberlist.php?username=slopsjon){: class="nospellcheck"}, [phpBB:tyjtyj](https://dietpi.com/ phpbb/memberlist.php?username=tyjtyj){: class="nospellcheck"} und [phpBB:pakikje](https://dietpi.com/phpbb/memberlist.php?username=pakikje){: class="nospellcheck" } für die Meldung dieses Problems: <https://dietpi.com/phpbb/viewtopic.php?t=6531>, <https://dietpi.com/phpbb/viewtopic.php?p=20408#p20408>
- **DietPi-Software** | **Google AIY** :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem die Neuinstallation aufgrund fehlender Berechtigungen nicht gestartet werden konnte
- **DietPi-Software** | **Grafana** :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem die Installation auf RPi 1/Zero Buster-Systemen fehlschlug. Der Fix beinhaltet ein Update von Grafana auf die neueste offizielle Version für diese Modelle. Vielen Dank an @TBail für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3213>
- **DietPi-Software** | **Jackett** :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem der interne Updater die Jackett-Instanz beschädigte. Automatische Updates können sicher wieder aktiviert werden. Vielen Dank an @ngosang für die Bereitstellung der Problemumgehung: <https://github.com/MichaIng/DietPi/issues/2593>
- **DietPi-Software** | **Pi-hole** :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem die Auswahl, den Zugriff auf das öffentliche Admin-Panel auf Nginx zu blockieren, fehlschlug. Vielen Dank an @anubis-genix für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3024#issuecomment-550342684>
- **DietPi-Software** | **Java** :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem die Installation auf ARMv6 RPis (1/Zero) auf dem Buster-System fehlschlug, da Java 11 nicht ARMv6-kompatibel ist. Auf diesen Systemen ist nun stattdessen Java 8 installiert. Vielen Dank an @maartenlangeveld für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3182>
- **DietPi-Software** | **rTorrent** :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem rTorrent und der Webserver keine ausreichenden Berechtigungen zum Lesen und Schreiben von ruTorrent-Web-UI-Einstellungen und -Daten hatten. Vielen Dank an @notDavid für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3244>
- **DietPi-Software** | **rTorrent** :octicons-arrow-right-16: Veraltete Befehle und Variablen in unserer Standard-Konfigurationsdatei aktualisiert. Vielen Dank an @bbsixzz für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3273>
- **DietPi-Software** | **rTorrent** :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem das ruTorrent DarkBetter-Design nicht installiert war. Vielen Dank an @bbsixzz für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3271>
- **DietPi-Software** | **Amiberry** :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem die Binärdatei auf Odroid XU4 nicht ausgeführt werden konnte. Vielen Dank an @wasu111 für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3181>
- **DietPi-Software** | **Tor-Hotspot** :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem Tor seit Buster aufgrund veralteter Konfigurationsdateieinträge nicht mehr gestartet werden kann. Vielen Dank an @blizarazu für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3261>
- **DietPi-Software** | **Allo web GUI** :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem der Webzugriff aufgrund falscher Berechtigungen fehlschlug. Vielen Dank an @Heroldgray für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3264>
DietPi-Software | GMediaRender: Es wurde ein Problem behoben, bei dem der Dienst aufgrund fehlender Berechtigungen nicht gestartet werden konnte. Vielen Dank an @fnsnyc für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3263>
- **DietPi-Software** | **GMediaRender** :octicons-arrow-right-16: Behobene Probleme aufgrund eingeschränkter Binärfunktionen durch die Verwendung neuer, selbst kompilierter Binärdateien, basierend auf `gmrender-resurrect` v0.0.8. Vielen Dank an @fnsnyc und @hifitime für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3263>, <https://github.com/MichaIng/DietPi/issues/3246>
- **DietPi-Software** | **Nextcloud** :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem die Installation aufgrund eines Fehlers in Nextcloud 17.0.2 fehlschlug. DietPi wird nun Nextcloud 17.0.1 installieren, bis der Fehler behoben ist. Updates von der Web-Benutzeroberfläche sind weiterhin möglich, dies betrifft nur die Neuinstallation. Vielen Dank an @DevinCharles für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3275>
- **DietPi-Software** | **Redis** :octicons-arrow-right-16: Es wurde ein Problem behoben, bei dem der Dienststart in einigen Fällen fehlschlug. Die Dateiprotokollierung ist jetzt deaktiviert und durch die Journalprotokollierung ersetzt, daher sind alle kombinierten Redis-Protokolle jetzt verfügbar über: `journalctl -u redis-server`. Vielen Dank an @dankerthrone für die Meldung dieses Problems: <https://github.com/MichaIng/DietPi/issues/3291>

Wie immer wurden viele kleinere Codeleistungs- und Stabilitätsverbesserungen sowie visuelle und Rechtschreibkorrekturen vorgenommen, zu viel, um sie alle hier aufzulisten. Sehen Sie sich alle Codeänderungen dieser Version auf GitHub an: <https://github.com/MichaIng/DietPi/pull/3290>
